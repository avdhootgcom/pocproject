
@{
    ViewBag.Title = "ReportTemplate";
}

<div class="row wrapper border-bottom white-bg page-heading">
    <div class="col-sm-4">
        <h2>Report Template</h2>
        <ol class="breadcrumb">
            <li>
                <a href="@Url.Action("ExecutiveDashboard", "Dashboards")">Home</a>
            </li>
            <li>
                <a>PCS</a> 
            </li>
            <li class="active"> 
                <strong>Report Template</strong>
            </li>
        </ol>
    </div>
</div>
<div class="wrapper wrapper-content">
    <div class="row">
        <div class="col-lg-12">

            <div class="ibox">
                <div class="ibox-title">
                    <h5>Filter Options </h5>
                </div>
                <div class="ibox-content">

                    <div class="row" style="margin-top: 20px">
                        <label class="col-sm-1 control-label">Program Type:</label>

                        <div class="col-sm-4">
                            <select class="select2_demo_1 form-control">
                                <option value="1">PCS</option>
                                <option value="2">Vector</option>
                                <option value="3">VPHS</option>

                            </select>

                        </div>



                    </div>

                    <div class="row" style="margin-top: 20px">

                        <label class="col-sm-1 control-label">Report Name:</label>
                        <div class="col-sm-4">
                            <select class="select2_demo_1 form-control">
                                <option value="1">Affidavit</option>
                                <option value="2">Regular Letter</option>
                                <option value="3">City Letter</option>
                                <option value="3">COTA</option>
                                <option value="3">Summons</option>

                            </select>
                        </div>

                    </div>
                    <div class="row" style="margin-top: 20px">

                        <label class="col-sm-1 control-label">Report Category:</label>
                        <div class="col-sm-4">
                            <select class="select2_demo_1 form-control">
                                <option value="1">Billing</option>
                                <option value="2">Bed Bug</option>
                                <option value="3">Inspection</option>
                                <option value="3">Property Research</option>
                                <option value="3">Extermination</option>

                            </select>
                        </div>

                    </div>
                    @*<div class="row" style="margin-top: 20px">

                            <label class="col-sm-1 control-label">Lot:</label>
                            <div class="col-sm-4">
                                <input type="text" class="form-control" placeholder="" required="required">
                            </div>

                        </div>*@
                    <div class="row" style="margin-top: 20px">
                        <div class="col-sm-4 ">
                            <button class="btn btn-white" type="submit">Clear</button>
                            <button class="btn btn-primary" type="submit" style="margin-left:10px">Filter</button>
                        </div>
                    </div>
                </div>

            </div>
        </div>
        <div class="wrapper wrapper-content">
            <div class="row">
                <div class="col-lg-12">
                    <div class="ibox ">
                        <div class="ibox-content">
                            <div class="jqGrid_wrapper">
                                <table id="table_list_2"></table>
                                <div id="pager_list_2"></div>
                            </div>

                            <div class="col-lg-5"></div>
                        </div>
                    </div>
                </div>
            </div>

        </div>

    </div>

</div>
<div id="ReportPopup" class="modal fade">
    <div class="modal-dialog">
        <div class="modal-content ">
            <div class="modal-body">
                <div class="modal-header">
                    <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
                    <h4 class="modal-title" style="text-align: center">Report</h4>
                </div>
                <div class="modal-body form-horizontal">
                    <div class="row" style="height:300px"></div>


                </div>




                <div class="modal-footer">
                    <button type="button" class="btn btn-primary" id="btnEditEmail">Edit</button>
                    <button type="button" class="btn btn-primary" id="btnSaveEmail">Save</button>
                    <button type="button" class="btn btn-default" id="btnCancelEmail">Cancel</button>
                </div>
            </div>
        </div>
    </div>
</div>
@section Styles {
    @Styles.Render("~/Content/plugins/jqGrid/jqGridStyles")
}


@section Scripts {


    @Scripts.Render("~/plugins/jqGrid")


    <script type="text/javascript">
        $(document).ready(function () {
            var mydata2 = [
                  { Select: '', ProgramType: "PCS", ReportName: "Affidavit", ReportCategory: "Billing", URL: "View Template" },
                  { Select: '', ProgramType: "VPHS", ReportName: "Regular Letter", ReportCategory: "Property Research", URL: "View Template" },
                  { Select: '', ProgramType: "Vector", ReportName: "City Letter", ReportCategory: "Billing", URL: "View Template" },
                  { Select: '', ProgramType: "VPHS", ReportName: "COTA", ReportCategory: "", ApprovedBy: "Inspection", URL: "View Template" },
                  { Select: '', ProgramType: "PCS", ReportName: "Affidavit", ReportCategory: "Billing",  URL: "View Template" },
                  { Select: '', ProgramType: "Vector", ReportName: "COTA", ReportCategory: "Inspection",  URL: "View Template" },
                  { Select: '', ProgramType: "VPHS", ReportName: "Affidavit", ReportCategory: "Inspection",  URL: "View Template" },

            ];
            $("#table_list_2").jqGrid({
                data: mydata2,
                datatype: "local",
                height: 200,
                autowidth: true,
                shrinkToFit: true,
                rowNum: 20,
                rowList: [10, 20, 30],
                colNames: ['Select', 'Program Type', 'Report Name', 'Report Category', 'URL'],
                colModel: [
                    { name: 'Select', index: 'Select', editable: true, width: 60, edittype: "checkbox", editoptions: { value: "True:False" }, formatter: "checkbox", formatoptions: { disabled: false }, align: "center" },
                    { name: 'ProgramType', index: 'ProgramType', editable: true, width: 90, sorttype: "string", align: "center" },
                    { name: 'ReportName', index: 'ReportName', editable: true, width: 100, sorttype: "string", align: "center" },
                    { name: 'ReportCategory', index: 'ReportCategory', editable: true, width: 80, align: "center", sorttype: "string", },
                    //{ name: 'URL', index: 'URL', editable: true, width: 80, align: "center", sorttype: "string" },
                   {
                       name: 'URL', index: 'URL', editable: false, sortable: false, width: 80, sorttype: "string", search: true, formatter: function (cellvalue, options, rowObject) {

                           {
                               return "<a href='javascript:showGrid()'>" + cellvalue + '</a>';
                           }
                       }
                   }

                ],
                pager: "#pager_list_2",
                viewrecords: true,
                add: true,
                edit: true,
                addtext: 'Add',
                edittext: 'Edit',
                hidegrid: false
            });
            // Add selection

            $("#table_list_2").setSelection(4, true);
            // Setup buttons

            $("#table_list_2").jqGrid('navGrid', '#pager_list_2',
                   { edit: false, add: false, del: false, search: true },
                   { reloadAfterSubmit: true }
           );
            // Add responsive to jqGrid
            $(window).bind('resize', function () {
                var width = $('.jqGrid_wrapper').width();
                $('#table_list_1').setGridWidth(width);
                $('#table_list_2').setGridWidth(width);
            });
            $('#reportrange span').html(moment().subtract(29, 'days').format('MMMM D, YYYY') + ' - ' + moment().format('MMMM D, YYYY'));

            $('#reportrange').daterangepicker({
                format: 'MM/DD/YYYY',
                startDate: moment().subtract(29, 'days'),
                endDate: moment(),
                minDate: '01/01/1950',
                maxDate: '12/31/3000',
                dateLimit: { days: 60 },
                showDropdowns: true,
                showWeekNumbers: true,
                timePicker: false,
                timePickerIncrement: 1,
                timePicker12Hour: true,
                opens: 'right',
                drops: 'down',
                buttonClasses: ['btn', 'btn-sm'],
                applyClass: 'btn-primary',
                cancelClass: 'btn-default',
                separator: ' to ',
                locale: {
                    applyLabel: 'Submit',
                    cancelLabel: 'Cancel',
                    fromLabel: 'From',
                    toLabel: 'To',
                    customRangeLabel: 'Custom',
                    daysOfWeek: ['Su', 'Mo', 'Tu', 'We', 'Th', 'Fr', 'Sa'],
                    monthNames: ['January', 'February', 'March', 'April', 'May', 'June', 'July', 'August', 'September', 'October', 'November', 'December'],
                    firstDay: 1
                }
            }, function (start, end, label) {
                console.log(start.toISOString(), end.toISOString(), label);
                $('#reportrange span').html(start.format('MMMM D, YYYY') + ' - ' + end.format('MMMM D, YYYY'));
            });
            //Add Sweet Alert on Button
            $('.demo4').click(function () {
                swal({
                    title: "Print Job Successful?",

                    type: "warning",
                    showCancelButton: true,
                    confirmButtonColor: "#DD6B55",
                    confirmButtonText: "Yes",
                    cancelButtonText: "No",
                    closeOnConfirm: false,
                    closeOnCancel: false
                },
                        function (isConfirm) {
                            if (isConfirm) {
                                swal("Printed!", "success");
                            } else {
                                swal("Reprinted!", "Failed");
                            }
                        });
            });
        });
        $("#btnCancelEmail").click(function () {
            $('#ReportPopup').modal('hide');
        });
        $("#btnEditEmail").click(function () {
            $('#ReportPopup').modal('hide');
        });
        $("#btnSaveEmail").click(function () {
            $('#ReportPopup').modal('hide');
        });
        function showGrid() {
            $('#ReportPopup').modal('show');
        }
    </script>
    }
