
@{
    ViewBag.Title = "LettersMailed";
}

<div class="row wrapper border-bottom white-bg page-heading">
    <div class="col-sm-4">
        <h2>Letters Mailed</h2>
        <ol class="breadcrumb">
            <li>
                <a href="@Url.Action("ExecutiveDashboard", "Dashboards")">Home</a>
            </li>
            <li>Print Shop</li>
            <li class="active">
                <strong>Letters Mailed</strong>
            </li>
        </ol>
    </div>
</div>  
<div class="wrapper wrapper-content">
    <div class="row">
        <div class="col-lg-12">

            <div class="ibox">

                <div class="ibox-content">

                    <div class="row">
                        <div class="form-group" style="margin-top: 20px">
                            <label class="col-sm-1 control-label">Date Range:</label>
                            <div class="col-md-4">
                                <div id="reportrange" class="form-control">
                                    <i class="fa fa-calendar"></i>
                                    <span></span> <b class="caret"></b>
                                </div>

                            </div>

                        </div>
                    </div>


                    <div class="row" style="margin-top: 20px">

                        <label class="col-sm-1 control-label">Program:</label>
                        <div class="col-sm-4">
                            <select class="select2_demo_1 form-control">
                                <option value="1">PCS</option>
                                <option value="2">VPHS</option>
                                <option value="3">Vector</option>
                            </select>
                        </div>

                    </div>

                    <div class="row" style="margin-top:20px">
                        <label class="col-sm-1 control-label"></label>
                        <div class="col-sm-4">
                            <button type="submit" class="btn btn-primary block">Submit</button>
                        </div>
                    </div>
                </div>

            </div>
        </div>
        <div class="wrapper-content">
            <div class="ibox-content">
                <div class="row">
                    <div class="col-lg-12">
                        <div class="ibox ">
                            <div class="ibox-content">
                                <div class="jqGrid_wrapper">
                                    <table id="table_list_1"></table>
                                    <div id="pager_list_1"></div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
        @section Styles {
            @Styles.Render("~/plugins/dateRangeStyles")
            @Styles.Render("~/Content/plugins/jqGrid/jqGridStyles")
        }
        @section Scripts {
            @Scripts.Render("~/plugins/dateRange")
            @Scripts.Render("~/plugins/imagecropper")
            @Scripts.Render("~/plugins/jqGrid")
            <script type="text/javascript">
                function SubtractDate(day) {
                    var today = new Date();
                    today.setDate(today.getDate() - parseInt(day));
                    //alert(today);
                    var dd = today.getDate();
                    var mm = today.getMonth();
                    var y = today.getFullYear();

                    return (mm + '/' + dd + '/' + y);
                }
                $(document).ready(function () {
                    var mydata1 = [
                    { TypesofLetters: "COTA", JobType: "4", Source: "20", Block: "4", Lot: "15", House: "10", StreetName: "6", urlID: "PrintShopDashboard" },
                    { TypesofLetters: "Summons", JobType: "1", Source: "3", Block: "3", Lot: "0", House: "0", StreetName: "", urlID: "PrintShopDashboard" },
                       { TypesofLetters: "Regular", JobType: "1", Source: "3", Block: "1", Lot: "0", House: "0", StreetName: "", urlID: "PrintShopDashboard" },
                 { TypesofLetters: "City", JobType: "", Source: "", Block: "", Lot: "", House: "", StreetName: "", urlID: "PrintShopDashboard" },

                    ];
                    // Configuration for jqGrid 1
                    $("#table_list_1").jqGrid({
                        data: mydata1,
                        datatype: "local",
                        height: 220,
                        autowidth: true,
                        shrinkToFit: true,
                        rowNum: 20,
                        rowList: [10, 20, 30],
                        colNames: ['Types of Letters', SubtractDate(0), SubtractDate(1), SubtractDate(2), SubtractDate(3), SubtractDate(4), SubtractDate(5)],
                        colModel: [
                           { name: 'TypesofLetters', index: 'JobID', editable: true, sorttype: "int", align: "center", },
                            {
                                name: 'JobType', index: 'JobType', editable: true, sorttype: "int", align: "center", formatter: function (cellvalue, options, rowObject) {
                                    return "<a href='" + window.location.pathname.substr(0, window.location.pathname.lastIndexOf('/')) + "/" + rowObject.urlID + "'>" + cellvalue + '</a>';
                                }
                            },
                            {
                                name: 'Source', index: 'Source', editable: true, align: "center", sorttype: "string", formatter: function (cellvalue, options, rowObject) {
                                    return "<a href='" + window.location.pathname.substr(0, window.location.pathname.lastIndexOf('/')) + "/" + rowObject.urlID + "'>" + cellvalue + '</a>';
                                }
                            },
                            {
                                name: 'Block', index: 'Block', editable: true, align: "center", sorttype: "int", formatter: function (cellvalue, options, rowObject) {
                                    return "<a href='" + window.location.pathname.substr(0, window.location.pathname.lastIndexOf('/')) + "/" + rowObject.urlID + "'>" + cellvalue + '</a>';
                                }
                            },
                              {
                                  name: 'Lot', index: 'Lot', editable: true, align: "center", sorttype: "int", formatter: function (cellvalue, options, rowObject) {
                                      return "<a href='" + window.location.pathname.substr(0, window.location.pathname.lastIndexOf('/')) + "/" + rowObject.urlID + "'>" + cellvalue + '</a>';
                                  }
                              },
                               {
                                   name: 'House', index: 'House', editable: true, align: "center", sorttype: "int", formatter: function (cellvalue, options, rowObject) {
                                       return "<a href='" + window.location.pathname.substr(0, window.location.pathname.lastIndexOf('/')) + "/" + rowObject.urlID + "'>" + cellvalue + '</a>';
                                   }
                               },
             {
                 name: 'StreetName', index: 'StreetName', editable: true, align: "center", sorttype: "int", formatter: function (cellvalue, options, rowObject) {
                     return "<a href='" + window.location.pathname.substr(0, window.location.pathname.lastIndexOf('/')) + "/" + rowObject.urlID + "'>" + cellvalue + '</a>';
                 }
             },

                        ],
                        pager: "#pager_list_1",
                        viewrecords: true,
                        add: true,
                        edit: true,
                        addtext: 'Add',
                        edittext: 'Edit',
                        hidegrid: false
                    });
                    // Add selection
                    $("#table_list_1").setSelection(4, true);
                    // Setup buttons
                    $("#table_list_1").jqGrid('navGrid', '#pager_list_1',
                            { edit: false, add: false, del: false, search: true },
                            { reloadAfterSubmit: true }
                    );
                    // Add responsive to jqGrid
                    $(window).bind('resize', function () {
                        var width = $('.jqGrid_wrapper').width();
                        $('#table_list_1').setGridWidth(width);
                        $('#table_list_2').setGridWidth(width);
                    });
                    $('#reportrange span').html(moment().subtract(29, 'days').format('MMMM D, YYYY') + ' - ' + moment().format('MMMM D, YYYY'));
                    $('#reportrange').daterangepicker({
                        format: 'MM/DD/YYYY',
                        startDate: moment().subtract(29, 'days'),
                        endDate: moment(),
                        minDate: '01/01/1950',
                        maxDate: '12/31/3000',
                        dateLimit: { days: 60 },
                        showDropdowns: true,
                        showWeekNumbers: true,
                        timePicker: false,
                        timePickerIncrement: 1,
                        timePicker12Hour: true,
                        opens: 'right',
                        drops: 'down',
                        buttonClasses: ['btn', 'btn-sm'],
                        applyClass: 'btn-primary',
                        cancelClass: 'btn-default',
                        separator: ' to ',
                        locale: {
                            applyLabel: 'Submit',
                            cancelLabel: 'Cancel',
                            fromLabel: 'From',
                            toLabel: 'To',
                            customRangeLabel: 'Custom',
                            daysOfWeek: ['Su', 'Mo', 'Tu', 'We', 'Th', 'Fr', 'Sa'],
                            monthNames: ['January', 'February', 'March', 'April', 'May', 'June', 'July', 'August', 'September', 'October', 'November', 'December'],
                            firstDay: 1
                        }
                    }, function (start, end, label) {
                        console.log(start.toISOString(), end.toISOString(), label);
                        $('#reportrange span').html(start.format('MMMM D, YYYY') + ' - ' + end.format('MMMM D, YYYY'));
                    });
                });
            </script>
        }
